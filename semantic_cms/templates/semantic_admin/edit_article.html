{% extends "semantic_admin/base_site.html" %}
{% load staticfiles %}
{% load widget_tweaks %}
{# {% load taggit_extras %}#}

{% block message %}
  {% if form.errors %}
    <div id="message">
      <div class="container-fluid">
        <div class="row">
          <div class="alert alert-danger alert-dismissible" role="alert">
            <div class="container">
              <i class="fa fa-exclamation-circle"></i> Please check errors.
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">×</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block jumbotron %}
<div class="jumbotron" style="background-image: url({% static 'semantic_admin/img/jumbotron/admin.jpg' %});">
  <div class="container">
    <form class="form-horizontal">
      <div class="form-group">
        <div class="col-sm-7">
          {% if form.title.errors %}
            {% render_field form.title form="article_form" placeholder="Enter name of the Article" class+="form-error form-control white-form" id="article_title" %}
            <div id="form-error-message">
              <div class="alert alert-danger" role="alert">
                {% for error in form.title.errors %}
                {{ error|escape }}
                {% endfor %}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">×</button>
              </div>
            </div>
          {% else %}
            {% render_field form.title form="article_form" placeholder="Enter name of the Article" class+="form-control white-form" id="article_title" %}
          {% endif %}
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-4">
          {{ form.sub_title.errors }} {% render_field form.sub_title form="article_form" placeholder="Enter subtitle here" class+="form-control white-form" id="article_subtitle" %}
          <!-- <input type="text" class="form-control white-form" id="article-subtitle" name="articleSubtitle" placeholder="Enter subtitle here"> -->
        </div>
      </div>
    </form>
    <div class="row jumbotron-gap">
      <div class="col-sm-3">
        <div class="dropdown dropdown-form">
          {% render_field form.flag form="article_form" id="article_flag" data-width="100%" %}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <div id="article_created_date2" class="input-group input-append date">
          <span class="input-group-addon white-form add-on"><i class="fa fa-calendar"></i></span>
          {% render_field form.created_date form="article_form" class+="form-control white-form" id="article_created_date" data-format="yyyy-MM-dd hh:mm:ss" placeholder="Insert create date" %}
          <!-- <input type="text" class="form-control gray-form" placeholder="test-article"> -->
        </div>
      </div>
      <div class="col-sm-2 col-sm-offset-7 text-right">
        <button class="btn btn-white-outline pull-down" href="#" role="button">Change cover</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block content %}
<div id="article_created_date" class="date">

</div>
<div class="row">
  <div class="col-sm-10 col-sm-offset-1">
    <h4 class="headline inline-block">markdown</h4>
    <h4 class="headline float-right inline-block">help</h4>
    <form class="form-horizontal">
      <div class="form-group">
        {{ form.content.errors }} {% render_field form.content form="article_form" class+="form-control" id="article_content" placeholder="Write your article here." %}
      </div>
    </form>
    <div class="row">
      <div class="col-sm-8">
        <h4 class="headline">keywords</h4>
        <div class="input-group">
          {% render_field form.keywords form="article_form" class+="tagit-hidden-field" id="article_keywords" %}
        </div>
      </div>
      <div class="col-sm-4">
        <h4 class="headline">post url</h4>
        {% if form.slug.errors %}
        <div class="input-group">
          <span class="form-error input-group-addon gray-form"><i class="fa fa-link"></i></span>
          {% render_field form.slug form="article_form" class+="form-error form-control gray-form" id="article_slug" placeholder="Enter article slug here" %}
        </div>
        <div id="form-error-message">
          <div class="alert alert-danger" role="alert">
            {% for error in form.slug.errors %} {{ error|escape }} {% endfor %}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">×</button>
          </div>
        </div>
        {% else %}
        <div class="input-group">
          <span class="input-group-addon gray-form"><i class="fa fa-link"></i></span>
          {% render_field form.slug form="article_form" class+="form-control gray-form" id="article_slug" placeholder="Enter article slug here" %}
        </div>
        {% endif %}
      </div>
      <div class="col-sm-4">
        <h4 class="headline gap">Author</h4>
        <div class="input-group">
          <span class="input-group-addon gray-form"><i class="fa fa-user"></i></span>
          <!-- <input type="text" class="form-control gray-form" placeholder="Tomáš Mikula"> -->
          {% render_field form.author form="article_form" class+="form-control gray-form" id="article_author" %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block footer %}
<form id="article_form" method="post">
  {% csrf_token %}
</form>
<div class="container-fluid footer">
  <div class="container">
    <a class="btn btn-gray-outline" href="{% url 'semantic_admin:content:index' %}" role="button">Close</a>
    <div class="float-right">
      <button class="btn btn-blue-outline inline" href="#" role="button">Semantic</button>

      <input form="article_form" class="btn btn-green-solid inline left-space" href="#" role="button" type="submit" name="save" value="Save as Draft" />
      <!-- Save as Draft</input> -->
      <input form="article_form" class="btn btn-green-solid inline left-space" href="#" role="button" type="submit" name="publish" value="Publish Article" />

      <!-- <button class="btn btn-green-solid inline left-space" href="#" role="button">Publish Article</button> -->

      <!-- <div class="dropdown inline left-space">
          <button class="btn dropdown-toggle btn-red-solid" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Publish<i class="fa fa-angle-down icon" style="float: right;"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
            <li><a href="#">Draft</a></li>
          </ul>
        </div> -->

    </div>
  </div>
</div>
{% endblock %}

{% block extrascripts %}
<!-- Bootstrap DateTimePicker.js -->
<script type="text/javascript" src="{% static 'semantic_admin/scripts/bootstrap-datetimepicker.js' %}"></script>

<!-- Slugify.js -->
<script type="text/javascript" src="{% static 'semantic_admin/scripts/jquery.slugify.js' %}"></script>

<!-- Are you sure?.js -->
<script type="text/javascript" src="{% static 'semantic_admin/scripts/jquery.are-you-sure.js' %}"></script>

<!-- tag it.js -->
<script src="{% static 'semantic_admin/scripts/tag-it.js' %}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
  $(function() {
    $('form').areYouSure({
      message: 'It looks like you have been editing something. ' + 'If you leave before saving, your changes will be lost.'
    });
  });

  $('#article_slug').slugify('#article_title');

  $('#article_flag').selectpicker({
    style: 'white-form',
  });

  $(function() {
    $('#article_created_date2').datetimepicker();
  });
</script>
{% endblock %}
